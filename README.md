# 🐾 呼嚕嚕小鎮 (Purr Purr Town)

**版本：v2.1.0**

## v2.1.0 ????
- ???????????????????
- ??????????????
- ???????????????/?? JSON ???


一個以「動物森友會」風格為靈感的班級管理系統，提供溫馨、療癒的使用體驗。

## 📋 專案簡介

呼嚕嚕小鎮是一個專為教師設計的班級管理網頁應用程式，透過可愛的村莊主題，將班級管理變得輕鬆有趣。系統採用 **本地優先 (Local-First)** 架構搭配選用的 Google Apps Script 雲端備份，支援多班級管理、每日任務追蹤、學生狀態監控、小隊分組、投影模式等功能，並提供直覺的操作介面。

## ✨ 主要功能

### 🏘️ 多班級（村莊）管理
- 建立並管理多個班級（村莊），設定學年度、班級名稱、村長姓名
- 為班級設定別名（如「跳跳虎村」），增加個人化
- 快速切換不同班級
- 支援純本地模式與 Google Apps Script 雲端備份模式

### 📅 日曆導航與村莊日誌
- 使用日曆快速查看不同日期的任務與完成狀態
- 所有歷史資料於進入村莊時一次載入，切換日期零延遲
- 日期格式統一為 `yyyy-MM-dd`，確保資料一致性

### 📝 任務管理（任務面板）
- 發布每日任務（作業、訂正、攜帶物品、考試、通知單、回條等）
- 自訂任務類型標籤，並可在設定中新增或刪除
- 根據任務名稱自動匹配圖示（如作業 → 書本、訂正 → 警告、美術 → 調色盤）
- 即時顯示每項任務的完成人數與進度條
- 投影模式快速入口

### 📊 任務總覽
- 跨日期檢視所有任務的完成狀況
- 篩選器：全部 / 未完成 / 已完成 / 依任務類型篩選
- 已完成任務自動排列於最下方，方便追蹤未完成項目
- 展開任務可查看未完成與已完成的學生名單
- **批次完成功能**：在未完成任務中點擊「批次完成」，勾選學生後一次儲存
- 可直接跳轉至該任務的對應日期

### 👥 村民廣場（學生狀態追蹤）
- 以小隊分組顯示所有學生（村民）
- 每位學生以 Emoji 頭像卡片呈現，顯示任務完成狀態
- 支援完成率統計：小隊完成率、個人完成率
- 點擊學生卡片開啟「村民護照」，查看詳細資訊

### 🪪 村民護照
- 查看該學生的個人資料（座號、姓名、小隊）
- 當日任務完成勾選與狀態切換（完成 / 請假 / 免交）
- 查看該生所有歷史紀錄，含每日任務完成統計
- 編輯學生資料（姓名、性別）

### 🚩 小隊管理
- 預設 6 個小隊（A ~ F），可自訂小隊別名
- 以卡片式介面拖拉管理隊員分配
- 搜尋學生快速加入指定小隊
- 儲存後同步更新至雲端（如已連線）

### 🎥 投影模式
- 深色黑板風格全螢幕顯示，適合教室投影
- 顯示當日日期與所有任務
- 點擊任務可打勾標記（僅本地視覺標記）
- 粉筆字體風格，清晰的淺色文字便於大螢幕閱讀
- 按 `Esc` 鍵快速離開

### 🧰 課堂法寶
- **專注計時器**：預設 3 分鐘倒數計時，自訂時長，圓環進度指示，時間到提示
- **幸運抽籤**：從學生名單隨機抽選，動畫滾動效果

### ⚙️ 村莊設定
- 自訂任務類型標籤（新增 / 刪除）
- 視覺化標籤顏色區分
- 備份與還原功能：匯出 / 匯入 JSON 資料檔
- 清除本地資料

### 🎨 設計特色
- 動物森友會風格的溫馨 UI 設計
- Emoji 頭像系統，依據學生 ID 自動產生一致的頭像與顏色
- Lucide React 圖示系統，各標題與功能按鈕搭配統一圖示
- 響應式設計，支援手機、平板、桌面等各種螢幕尺寸
- 樂觀更新機制：UI 立即回應操作，API 在背景同步

## 🛠️ 技術棧

- **前端框架**：React 19.2.0
- **建置工具**：Vite 7.2.4
- **樣式**：Tailwind CSS 4.1.18
- **圖標**：Lucide React
- **日期處理**：date-fns 4.1.0
- **日曆組件**：react-calendar 6.0.0
- **部署**：gh-pages

## 📦 安裝與使用

### 環境需求
- Node.js 18+
- npm 或 yarn

### 安裝步驟

1. **克隆專案**
   ```bash
   git clone <repository-url>
   cd purr-purr-town
   ```

2. **安裝依賴**
   ```bash
   npm install
   ```

3. **設定環境變數**（選用，僅雲端備份模式需要）

   建立 `.env` 檔案，設定 Google Apps Script API 網址：
   ```
   VITE_API_URL=https://your-gas-api-url.com
   ```

4. **啟動開發伺服器**
   ```bash
   npm run dev
   ```

5. **建置生產版本**
   ```bash
   npm run build
   ```

6. **部署至 GitHub Pages**
   ```bash
   npm run deploy
   ```

## 🔧 專案結構

```
purr-purr-town/
├── public/              # 靜態資源
│   └── vite.svg        # 網站圖標
├── src/
│   ├── App.jsx         # 主應用程式組件（含所有頁面與 Modal）
│   ├── main.jsx        # 應用程式入口點
│   └── index.css       # 全域樣式、動畫、Tailwind 設定
├── index.html          # HTML 模板（含 Google Fonts）
├── package.json        # 專案依賴與腳本
├── vite.config.js      # Vite 設定
└── README.md           # 專案說明文件
```

## 🎯 核心架構說明

### 本地優先架構 (Local-First)
- 所有班級資料儲存於瀏覽器 localStorage
- 進入村莊時一次載入所有歷史日誌
- 切換日期時直接從本地資料計算，實現零延遲體驗
- 可選擇性連結 Google Apps Script 做為雲端備份

### 樂觀更新機制
- UI 立即回應使用者操作（勾選、新增、刪除等）
- API 請求在背景非同步執行
- 確保流暢的操作體驗，不因網路延遲而阻塞介面

### 學生狀態系統
- 支援三種完成狀態：完成 (`true`)、請假 (`leave`)、免交 (`exempt`)
- 三者皆視為「已完成」，統一計入完成率

## 📄 授權

本專案採用 MIT 授權條款。

---

**享受你的村莊管理之旅！** 🐾✨
